# PIRLS 閱讀測驗系統 - 更新日誌

## v2.2 (2025-12-29) 🎨📊

### 新功能
- ✨ **P0 錯誤處理系統**: 統一的 Toast 通知與載入狀態管理
  - 新增 `ErrorHandler` 類別 (`assets/js/error-handler.js`)
  - 4種通知類型：success, error, warning, info
  - 智能載入狀態：showLoading / hideLoading / withLoading
  - Toast 通知樣式 (`assets/css/toast.css`)
- ✨ **P1 學習進度視覺化**: 完整的進度儀表板系統
  - 新增 `ProgressDashboard` 類別 (`assets/js/progress-dashboard.js`)
  - 4個漸層統計卡片（已完成、平均分、最高分、總時長）
  - Chart.js 完成進度環形圖（百分比完美居中）
  - Chart.js 成績趨勢折線圖（最近10篇）
  - 展開/收合控制功能
  - 儀表板樣式 (`assets/css/dashboard.css`)
- ⚙️ 整合 Chart.js v4.4.0 CDN
- 🤖 自動初始化進度儀表板於登入用戶

### 優化改進
- 📱 **手機端 RWD 完整優化**
  - 修正手機端寬度溢出問題
  - 解決環形圖與文字重疊問題
  - 優化中央文字居中定位（Flexbox 雙重居中）
  - 增加環形圖 cutout 到 80%
  - 動態字體縮放適配不同螢幕（768px / 480px / 375px）
  - 觸控友善設計（最小觸控區域 44x44px）
  - 移除觸控裝置 hover 效果，添加 active 反饋

### 技術細節
- 📊 新增代碼：~1,450 行（JavaScript: 750行, CSS: 698行）
- 🔧 修改代碼：~120 行 (index.html)
- 📁 4 個新檔案創建
- 💻 使用 `calc()` 精確計算寬度
- 📦 Box-sizing 統一設置
- 🌙 深色模式支援

### 測試
- ✅ 桌面版測試通過
- ✅ 平板版測試通過
- ✅ 手機版測試通過（多種尺寸）
- ✅ 用戶驗收測試通過

---

## v2.1 (2025-12-29) ✨

### 新功能
- ✨ **自動篩選未完成文章**: 已登入學生進入首頁時，自動顯示尚未完成的文章，提升學習效率

### 技術改進
- 🔧 建立 CSS/JS 自動壓縮工具 (`build-min.ps1`)
- 🔧 整合自動篩選邏輯到頁面初始化流程

### 檔案變更
- `index.html` - 新增 `autoFilterUncompletedForLoggedInUser()` 函數

---

## v2.0 (2025-12-28) 📱

### 重大更新
- 📱 **完整的行動版分頁介面**: 閱讀文章、作答、說明三個分頁
- ✅ 測驗提交功能優化
- 📊 進度追蹤系統完善

### Bug 修復
- 🐛 修復行動版測驗提交問題
- 🐛 修復字元編碼顯示問題
- 🐛 修復選項選取視覺反饋

---

## v1.8 (2025-12-25) 🎯

### 新功能
- 🎯 完成狀態篩選器（全部/已完成/未完成）
- 📈 個人進度顯示與追蹤
- 💾 進度資料持久化

---

## v1.7 (2025-12-27) ☁️

### 部署
- ☁️ 部署至 vCloud VM
- 🔐 環境變數安全管理

---

## v1.6 (2025-12-26) 🔒

### 安全性
- 🔒 後端 JWT 認證系統
- 🔑 密碼雜湊與安全儲存
- 🛡️ 受保護的 API 端點

---

## v1.5 (2025-12-25) 🤖

### 自動化
- 🤖 AI 測驗生成功能
- 📤 Excel 自動匯入系統
- 🔄 自動化工作流程

---

## v1.0 (2025-12-24) 🎉

### 首次發布
- 📚 基礎文章瀏覽功能
- ✍️ 測驗作答系統
- 👤 匿名登入機制
- 🔥 Firebase 整合

---

**當前版本**: v2.2  
**最後更新**: 2025-12-29
